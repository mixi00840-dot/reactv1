(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{78207:function(e,a,t){Promise.resolve().then(t.bind(t,24012))},24012:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var n=t(57437),l=t(2265),s=t(71837),r=t(40831),i=t(93448);let o=[{accessorKey:"createdAt",header:"Date",cell:e=>{let{row:a}=e;return(0,i.p)(a.original.createdAt)}},{accessorKey:"amount",header:"Amount",cell:e=>{var a;let{row:t}=e;return"".concat((null!==(a=t.original.amount)&&void 0!==a?a:0).toFixed(2))}},{accessorKey:"type",header:"Type"},{accessorKey:"status",header:"Status"},{accessorKey:"reference",header:"Ref"},{accessorKey:"user",header:"User",cell:e=>{var a,t;let{row:n}=e;return(null===(a=n.original.userId)||void 0===a?void 0:a.username)||(null===(t=n.original.userId)||void 0===t?void 0:t.email)||"â€”"}}];function d(){let[e,a]=(0,l.useState)([]),[t,i]=(0,l.useState)(1),[d,u]=(0,l.useState)(20),[c,h]=(0,l.useState)(0),[p,v]=(0,l.useState)(""),[g,f]=(0,l.useState)(""),[m,x]=(0,l.useState)("");async function j(){var e,n,l,r,i,o;let u=new URLSearchParams({page:String(t),limit:String(d)});p&&u.set("search",p),g&&u.set("status",g),m&&u.set("type",m);let c=await s.Z.get("/api/admin/wallets/transactions?".concat(u.toString())),v=(null===(e=c.data)||void 0===e?void 0:e.data)||c.data,f=v.transactions||v.data||v;a(f);let x=v.pagination||(null===(l=c.data)||void 0===l?void 0:null===(n=l.data)||void 0===n?void 0:n.pagination)||(null===(r=c.data)||void 0===r?void 0:r.pagination);h(null!==(o=null!==(i=null==x?void 0:x.total)&&void 0!==i?i:null==x?void 0:x.totalTransactions)&&void 0!==o?o:f.length)}return(0,l.useEffect)(()=>{j()},[t,d,g,m]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[(0,n.jsx)("h1",{className:"mr-auto text-xl font-semibold",children:"Transactions"}),(0,n.jsxs)("select",{className:"h-9 rounded-md border bg-transparent px-2",value:m,onChange:e=>{x(e.target.value),i(1)},children:[(0,n.jsx)("option",{value:"",children:"All Types"}),(0,n.jsx)("option",{value:"topup",children:"Top-up"}),(0,n.jsx)("option",{value:"purchase",children:"Purchase"}),(0,n.jsx)("option",{value:"gift",children:"Gift"}),(0,n.jsx)("option",{value:"transfer",children:"Transfer"})]}),(0,n.jsxs)("select",{className:"h-9 rounded-md border bg-transparent px-2",value:g,onChange:e=>{f(e.target.value),i(1)},children:[(0,n.jsx)("option",{value:"",children:"All Status"}),(0,n.jsx)("option",{value:"completed",children:"Completed"}),(0,n.jsx)("option",{value:"pending",children:"Pending"}),(0,n.jsx)("option",{value:"failed",children:"Failed"})]})]}),(0,n.jsx)(r.w,{columns:o,data:e,pageInfo:{page:t,pageSize:d,total:c},onPageChange:i,onPageSizeChange:e=>{u(e),i(1)},onSearch:e=>{v(e),i(1),j()}})]})}}},function(e){e.O(0,[137,237,594,351,971,117,744],function(){return e(e.s=78207)}),_N_E=e.O()}]);