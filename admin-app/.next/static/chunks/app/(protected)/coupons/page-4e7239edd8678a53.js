(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8673],{22990:function(e,a,t){Promise.resolve().then(t.bind(t,83039))},83039:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return c}});var n=t(57437),i=t(2265),l=t(71837),o=t(40831),s=t(93448);let r=[{accessorKey:"code",header:"Code"},{accessorKey:"name",header:"Name"},{accessorKey:"type",header:"Type"},{accessorKey:"status",header:"Status"},{accessorKey:"discountValue",header:"Value"},{accessorKey:"validFrom",header:"From",cell:e=>{let{row:a}=e;return(0,s.p)(a.original.validFrom)}},{accessorKey:"validUntil",header:"Until",cell:e=>{let{row:a}=e;return(0,s.p)(a.original.validUntil)}}];function c(){let[e,a]=(0,i.useState)([]),[t,s]=(0,i.useState)(1),[c,d]=(0,i.useState)(20),[u,v]=(0,i.useState)(0),[h,p]=(0,i.useState)(""),[g,f]=(0,i.useState)("");async function m(){var e,n,i,o,s;let r=new URLSearchParams({page:String(t),limit:String(c)});h&&r.set("search",h),g&&r.set("status",g);let d=await l.Z.get("/api/coupons?".concat(r.toString())),u=(null===(e=d.data)||void 0===e?void 0:e.data)||d.data,p=u.coupons||u.data||u;a(p);let f=u.pagination||(null===(i=d.data)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.pagination)||(null===(o=d.data)||void 0===o?void 0:o.pagination);v(null!==(s=null==f?void 0:f.total)&&void 0!==s?s:p.length)}return(0,i.useEffect)(()=>{m()},[t,c,g]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,n.jsx)("h1",{className:"mr-auto text-xl font-semibold",children:"Coupons"}),(0,n.jsxs)("select",{className:"h-9 rounded-md border bg-transparent px-2",value:g,onChange:e=>{f(e.target.value),s(1)},children:[(0,n.jsx)("option",{value:"",children:"All"}),(0,n.jsx)("option",{value:"active",children:"Active"}),(0,n.jsx)("option",{value:"inactive",children:"Inactive"}),(0,n.jsx)("option",{value:"expired",children:"Expired"}),(0,n.jsx)("option",{value:"draft",children:"Draft"})]})]}),(0,n.jsx)(o.w,{columns:r,data:e,pageInfo:{page:t,pageSize:c,total:u},onPageChange:s,onPageSizeChange:e=>{d(e),s(1)},onSearch:e=>{p(e),s(1),m()}})]})}}},function(e){e.O(0,[6137,3825,1594,351,2971,2117,1744],function(){return e(e.s=22990)}),_N_E=e.O()}]);