(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[51],{47555:function(e,a,t){Promise.resolve().then(t.bind(t,63170))},63170:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var n=t(57437),l=t(2265),r=t(71837),o=t(40831),i=t(93448);let s=[{accessorKey:"createdAt",header:"Date",cell:e=>{let{row:a}=e;return(0,i.p)(a.original.createdAt)}},{accessorKey:"amount",header:"Amount",cell:e=>{var a;let{row:t}=e;return"".concat(t.original.currency||"USD"," ").concat((null!==(a=t.original.amount)&&void 0!==a?a:0).toFixed(2))}},{accessorKey:"status",header:"Status"},{accessorKey:"paymentMethod",header:"Method"},{accessorKey:"user",header:"User",cell:e=>{var a,t;let{row:n}=e;return(null===(a=n.original.userId)||void 0===a?void 0:a.username)||(null===(t=n.original.userId)||void 0===t?void 0:t.email)||"—"}},{accessorKey:"order",header:"Order",cell:e=>{var a;let{row:t}=e;return(null===(a=t.original.orderId)||void 0===a?void 0:a.orderNumber)||"—"}}];function d(){let[e,a]=(0,l.useState)([]),[t,i]=(0,l.useState)(1),[d,u]=(0,l.useState)(20),[c,v]=(0,l.useState)(0),[h,g]=(0,l.useState)(""),[m,p]=(0,l.useState)("all");async function f(){var e,n,l,o,i,s;let u=new URLSearchParams({page:String(t),limit:String(d)});h&&u.set("search",h),m&&u.set("status",m);let c=await r.Z.get("/api/payments/admin/all?".concat(u.toString())),g=(null===(e=c.data)||void 0===e?void 0:e.data)||c.data,p=g.payments||g.transactions||g;a(p);let f=g.pagination||(null===(l=c.data)||void 0===l?void 0:null===(n=l.data)||void 0===n?void 0:n.pagination)||(null===(o=c.data)||void 0===o?void 0:o.pagination);v(null!==(s=null!==(i=null==f?void 0:f.total)&&void 0!==i?i:null==f?void 0:f.totalTransactions)&&void 0!==s?s:p.length)}return(0,l.useEffect)(()=>{f()},[t,d,m]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,n.jsx)("h1",{className:"mr-auto text-xl font-semibold",children:"Payments"}),(0,n.jsxs)("select",{className:"h-9 rounded-md border bg-transparent px-2",value:m,onChange:e=>{p(e.target.value),i(1)},children:[(0,n.jsx)("option",{value:"all",children:"All"}),(0,n.jsx)("option",{value:"completed",children:"Completed"}),(0,n.jsx)("option",{value:"pending",children:"Pending"}),(0,n.jsx)("option",{value:"failed",children:"Failed"})]})]}),(0,n.jsx)(o.w,{columns:s,data:e,pageInfo:{page:t,pageSize:d,total:c},onPageChange:i,onPageSizeChange:e=>{u(e),i(1)},onSearch:e=>{g(e),i(1),f()}})]})}}},function(e){e.O(0,[137,825,594,351,971,117,744],function(){return e(e.s=47555)}),_N_E=e.O()}]);