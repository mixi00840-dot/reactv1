(()=>{var e={};e.id=73,e.ids=[73],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},45306:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(96288),t(52356),t(35866),t(1002);var r=t(23191),a=t(88716),i=t(37922),l=t.n(i),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["(protected)",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,96288)),"C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\(protected)\\orders\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,52356)),"C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\(protected)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1002)),"C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\(protected)\\orders\\page.tsx"],x="/(protected)/orders/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(protected)/orders/page",pathname:"/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},46344:(e,s,t)=>{Promise.resolve().then(t.bind(t,36732))},69669:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},48705:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},36732:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var r=t(10326),a=t(17577),i=t(38443),l=t(3594),n=t(10143),d=t(91664),c=t(15919),o=t(12714),x=t(30361),u=t(48705),h=t(62881);let p=(0,h.Z)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var m=t(69669);let j={pending:"outline",confirmed:"default",processing:"default",shipped:"default",delivered:"default",cancelled:"destructive",refunded:"secondary"},f={pending:"outline",paid:"default",failed:"destructive",refunded:"secondary"},g=e=>[{accessorKey:"orderNumber",header:"Order #",cell:({row:e})=>r.jsx("span",{className:"font-mono text-sm",children:e.original.orderNumber||e.original._id.slice(-8).toUpperCase()})},{accessorKey:"customer",header:"Customer",cell:({row:e})=>{let s=e.original.customer;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(l.qE,{className:"h-6 w-6",children:[r.jsx(l.F$,{src:s?.avatar,alt:s?.username}),r.jsx(l.Q5,{className:"text-xs",children:s?.username?.charAt(0).toUpperCase()})]}),r.jsx("span",{className:"text-sm",children:s?.username||"Unknown"})]})}},{accessorKey:"items",header:"Items",cell:({row:e})=>{let s=e.original.items?.length||0;return(0,r.jsxs)("span",{className:"text-sm",children:[s," item",1!==s?"s":""]})}},{accessorKey:"total",header:"Total",cell:({row:e})=>(0,r.jsxs)("span",{className:"font-medium",children:["$",e.original.total.toFixed(2)]})},{accessorKey:"paymentStatus",header:"Payment",cell:({row:e})=>{let s=e.original.paymentStatus;return r.jsx(i.C,{variant:f[s]||"default",className:"capitalize",children:s})}},{accessorKey:"status",header:"Order Status",cell:({row:e})=>{let s=e.original.status;return r.jsx(i.C,{variant:j[s]||"default",className:"capitalize",children:s})}},{accessorKey:"createdAt",header:"Date",cell:({row:e})=>r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(e.original.createdAt).toLocaleDateString()})},{id:"actions",header:"Actions",cell:({row:s})=>{let t=s.original;return(0,r.jsxs)(n.h_,{children:[r.jsx(n.$F,{asChild:!0,children:(0,r.jsxs)(d.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[r.jsx("span",{className:"sr-only",children:"Open menu"}),r.jsx(c.Z,{className:"h-4 w-4"})]})}),(0,r.jsxs)(n.AW,{align:"end",children:[r.jsx(n.Ju,{children:"Actions"}),(0,r.jsxs)(n.Xi,{onClick:()=>e.onView(t),children:[r.jsx(o.Z,{className:"mr-2 h-4 w-4"}),"View Details"]}),r.jsx(n.VD,{}),"pending"===t.status&&(0,r.jsxs)(n.Xi,{onClick:()=>e.onUpdateStatus(t,"confirmed"),className:"text-green-600",children:[r.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Confirm Order"]}),"confirmed"===t.status&&(0,r.jsxs)(n.Xi,{onClick:()=>e.onUpdateStatus(t,"processing"),children:[r.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Start Processing"]}),"processing"===t.status&&(0,r.jsxs)(n.Xi,{onClick:()=>e.onUpdateStatus(t,"shipped"),children:[r.jsx(p,{className:"mr-2 h-4 w-4"}),"Mark as Shipped"]}),"shipped"===t.status&&(0,r.jsxs)(n.Xi,{onClick:()=>e.onUpdateStatus(t,"delivered"),className:"text-green-600",children:[r.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Mark as Delivered"]}),("pending"===t.status||"confirmed"===t.status)&&(0,r.jsxs)(n.Xi,{onClick:()=>e.onCancel(t),className:"text-red-600",children:[r.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Cancel Order"]}),"delivered"===t.status&&"paid"===t.paymentStatus&&(0,r.jsxs)(n.Xi,{onClick:()=>e.onRefund(t),className:"text-orange-600",children:[r.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Process Refund"]})]})]})}}];var v=t(12470),N=t(29752);let y=(0,h.Z)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),b=(0,h.Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var k=t(92719),w=t(24118),S=t(44794),C=t(29280),P=t(84097),q=t(50384);function A(){let[e,s]=(0,a.useState)(1),[t,i]=(0,a.useState)({}),[l,n]=(0,a.useState)(null),[c,o]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,j]=(0,a.useState)(!1),{toast:f}=(0,P.pm)(),{data:A,isLoading:_,refetch:U}=(0,v.yi)(e,20,t),Z=A?.pagination?.total||0,O=A?.orders?.filter(e=>"pending"===e.status).length||0,z=A?.orders?.filter(e=>"processing"===e.status||"confirmed"===e.status).length||0,M=A?.orders?.filter(e=>"delivered"===e.status).length||0,D=async()=>{if(l)try{f({title:"Order Cancelled",description:"The order has been cancelled."}),h(!1),n(null),U()}catch(e){f({title:"Error",description:"Failed to cancel order.",variant:"destructive"})}},Q=async()=>{if(l)try{f({title:"Refund Processed",description:"The refund has been processed successfully."}),j(!1),n(null),U()}catch(e){f({title:"Error",description:"Failed to process refund.",variant:"destructive"})}},V=g({onView:e=>{n(e),o(!0)},onUpdateStatus:async(e,s)=>{try{f({title:"Status Updated",description:`Order status updated to ${s}.`}),U()}catch(e){f({title:"Error",description:"Failed to update order status.",variant:"destructive"})}},onCancel:e=>{n(e),h(!0)},onRefund:e=>{n(e),j(!0)}});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Orders Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Track and manage customer orders"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(d.z,{variant:"outline",onClick:()=>U(),children:"Refresh"}),r.jsx(d.z,{children:"Export Orders"})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsx(N.Zb,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:Z})]}),r.jsx(y,{className:"h-8 w-8 text-muted-foreground"})]})}),r.jsx(N.Zb,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:O})]}),r.jsx(b,{className:"h-8 w-8 text-orange-600"})]})}),r.jsx(N.Zb,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Processing"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:z})]}),r.jsx(p,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(N.Zb,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:M})]}),r.jsx(x.Z,{className:"h-8 w-8 text-green-600"})]})})]}),r.jsx(N.Zb,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(C.Ph,{value:t.status||"all",onValueChange:e=>i({...t,status:"all"===e?void 0:e}),children:[r.jsx(C.i4,{className:"w-[180px]",children:r.jsx(C.ki,{placeholder:"Filter by status"})}),(0,r.jsxs)(C.Bw,{children:[r.jsx(C.Ql,{value:"all",children:"All Status"}),r.jsx(C.Ql,{value:"pending",children:"Pending"}),r.jsx(C.Ql,{value:"confirmed",children:"Confirmed"}),r.jsx(C.Ql,{value:"processing",children:"Processing"}),r.jsx(C.Ql,{value:"shipped",children:"Shipped"}),r.jsx(C.Ql,{value:"delivered",children:"Delivered"}),r.jsx(C.Ql,{value:"cancelled",children:"Cancelled"})]})]}),(0,r.jsxs)(C.Ph,{value:t.paymentStatus||"all",onValueChange:e=>i({...t,paymentStatus:"all"===e?void 0:e}),children:[r.jsx(C.i4,{className:"w-[180px]",children:r.jsx(C.ki,{placeholder:"Payment status"})}),(0,r.jsxs)(C.Bw,{children:[r.jsx(C.Ql,{value:"all",children:"All Payments"}),r.jsx(C.Ql,{value:"pending",children:"Pending"}),r.jsx(C.Ql,{value:"paid",children:"Paid"}),r.jsx(C.Ql,{value:"failed",children:"Failed"}),r.jsx(C.Ql,{value:"refunded",children:"Refunded"})]})]})]})}),r.jsx(N.Zb,{className:"p-6",children:r.jsx(k.w,{columns:V,data:A?.orders||[],searchKey:"orderNumber"})}),r.jsx(w.Vq,{open:c,onOpenChange:o,children:(0,r.jsxs)(w.cZ,{className:"max-w-3xl",children:[r.jsx(w.fK,{children:r.jsx(w.$N,{children:"Order Details"})}),(0,r.jsxs)(q.mQ,{defaultValue:"info",className:"w-full",children:[(0,r.jsxs)(q.dr,{children:[r.jsx(q.SP,{value:"info",children:"Information"}),r.jsx(q.SP,{value:"items",children:"Items"}),r.jsx(q.SP,{value:"shipping",children:"Shipping"}),r.jsx(q.SP,{value:"payment",children:"Payment"})]}),r.jsx(q.nU,{value:"info",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(S._,{children:"Order Number"}),r.jsx("p",{className:"font-mono text-sm",children:l?.orderNumber||l?._id.slice(-8).toUpperCase()})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(S._,{children:"Customer"}),r.jsx("p",{className:"text-sm",children:l?.customer?.username||"Unknown"})]}),(0,r.jsxs)("div",{children:[r.jsx(S._,{children:"Order Status"}),r.jsx("p",{className:"text-sm capitalize",children:l?.status})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(S._,{children:"Order Date"}),r.jsx("p",{className:"text-sm",children:l?.createdAt?new Date(l.createdAt).toLocaleString():"N/A"})]}),(0,r.jsxs)("div",{children:[r.jsx(S._,{children:"Total Amount"}),(0,r.jsxs)("p",{className:"text-lg font-bold",children:["$",l?.total.toFixed(2)]})]})]})]})}),r.jsx(q.nU,{value:"items",className:"space-y-4",children:r.jsx("div",{className:"space-y-2",children:l?.items&&l.items.length>0?l.items.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.product?.name||"Product"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",e.quantity]})]}),(0,r.jsxs)("p",{className:"font-medium",children:["$",e.price.toFixed(2)]})]},s)):r.jsx("div",{className:"flex h-20 items-center justify-center rounded-lg border border-dashed",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No items"})})})}),r.jsx(q.nU,{value:"shipping",className:"space-y-4",children:(0,r.jsxs)("div",{children:[r.jsx(S._,{children:"Shipping Address"}),r.jsx("p",{className:"text-sm",children:l?.shippingAddress||"No address provided"})]})}),r.jsx(q.nU,{value:"payment",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx(S._,{children:"Payment Status"}),r.jsx("p",{className:"text-sm capitalize font-medium",children:l?.paymentStatus})]}),(0,r.jsxs)("div",{children:[r.jsx(S._,{children:"Payment Method"}),r.jsx("p",{className:"text-sm capitalize",children:l?.paymentMethod||"N/A"})]}),(0,r.jsxs)("div",{children:[r.jsx(S._,{children:"Total Amount"}),(0,r.jsxs)("p",{className:"text-2xl font-bold",children:["$",l?.total.toFixed(2)]})]})]})})]})]})}),r.jsx(w.Vq,{open:u,onOpenChange:h,children:(0,r.jsxs)(w.cZ,{children:[(0,r.jsxs)(w.fK,{children:[r.jsx(w.$N,{children:"Cancel Order"}),r.jsx(w.Be,{children:"Are you sure you want to cancel this order? This action cannot be undone."})]}),(0,r.jsxs)(w.cN,{children:[r.jsx(d.z,{variant:"outline",onClick:()=>h(!1),children:"No, Keep Order"}),r.jsx(d.z,{variant:"destructive",onClick:D,children:"Yes, Cancel Order"})]})]})}),r.jsx(w.Vq,{open:m,onOpenChange:j,children:(0,r.jsxs)(w.cZ,{children:[(0,r.jsxs)(w.fK,{children:[r.jsx(w.$N,{children:"Process Refund"}),(0,r.jsxs)(w.Be,{children:["Process a refund for this order. The customer will be refunded the full amount of $",l?.total.toFixed(2),"."]})]}),(0,r.jsxs)(w.cN,{children:[r.jsx(d.z,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),r.jsx(d.z,{onClick:Q,children:"Process Refund"})]})]})})]})}},96288:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\ASUS\Desktop\reactv1\admin-app\src\app\(protected)\orders\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[356,992,932,508,463,676,798,156],()=>t(45306));module.exports=r})();