(()=>{var e={};e.id=119,e.ids=[119],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},60387:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d}),r(57791),r(52356),r(35866),r(1002);var t=r(23191),a=r(88716),l=r(37922),n=r.n(l),i=r(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(s,c);let d=["",{children:["(protected)",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,57791)),"C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\(protected)\\users\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,52356)),"C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\(protected)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1002)),"C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\(protected)\\users\\page.tsx"],x="/(protected)/users/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(protected)/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},24861:(e,s,r)=>{Promise.resolve().then(r.bind(r,74055))},74055:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>_});var t=r(10326),a=r(17577),l=r(12470),n=r(92719),i=r(62881);let c=(0,i.Z)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),d=(0,i.Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var o=r(15919),x=r(12714);let u=(0,i.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var h=r(30361);let m=(0,i.Z)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var p=r(98091),j=r(91664),v=r(10143),g=r(38443),y=r(3594),f=r(29752),N=r(38227);let b=(0,i.Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),w=(0,i.Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),U=(0,i.Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var k=r(24118),C=r(44794),P=r(82015),S=r(29280),q=r(84097),A=r(50384);function _(){var e;let[s,r]=(0,a.useState)(1),[i,_]=(0,a.useState)({}),[V,Z]=(0,a.useState)(null),[D,E]=(0,a.useState)(!1),[M,z]=(0,a.useState)(!1),[B,K]=(0,a.useState)(!1),[Q,F]=(0,a.useState)(""),{toast:O}=(0,q.pm)(),{data:$,isLoading:X,refetch:R}=(0,l.UV)(s,20,i),G=(0,l.W4)(),H=(0,l.$Q)(),T=async()=>{if(!V||!Q.trim()){O({variant:"destructive",title:"Error",description:"Please provide a reason for banning"});return}try{await G.mutateAsync({id:V._id,reason:Q}),O({variant:"success",title:"User Banned",description:`${V.username} has been banned`}),E(!1),F(""),R()}catch(e){O({variant:"destructive",title:"Error",description:"Failed to ban user"})}},J=async()=>{O({title:"User Deleted",description:"User has been deleted successfully"}),z(!1)},L=(e={onView:e=>{Z(e),K(!0)},onEdit:e=>{O({title:"Edit User",description:"Edit functionality will be implemented soon"})},onBan:e=>{Z(e),E(!0)},onUnban:async e=>{try{await H.mutateAsync(e._id),O({variant:"success",title:"User Unbanned",description:`${e.username} has been unbanned successfully`}),R()}catch(e){O({variant:"destructive",title:"Error",description:"Failed to unban user"})}},onDelete:e=>{Z(e),z(!0)},onVerify:async e=>{O({title:"User Verified",description:`${e.username} has been verified`})}},[{accessorKey:"username",header:({column:e})=>(0,t.jsxs)(j.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["User",t.jsx(c,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let s=e.original;return(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(y.qE,{className:"h-10 w-10",children:[t.jsx(y.F$,{src:s.avatar,alt:s.username}),t.jsx(y.Q5,{children:s.username.substring(0,2).toUpperCase()})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium flex items-center gap-2",children:[s.username,s.verified&&t.jsx(d,{className:"h-4 w-4 text-blue-500"})]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:s.email})]})]})}},{accessorKey:"role",header:"Role",cell:({row:e})=>{let s=e.getValue("role");return t.jsx(g.C,{variant:"outline",className:{admin:"bg-purple-100 text-purple-800 border-purple-200",seller:"bg-blue-100 text-blue-800 border-blue-200",user:"bg-gray-100 text-gray-800 border-gray-200"}[s],children:s.toUpperCase()})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{let s=e.getValue("status");return t.jsx(g.C,{variant:"outline",className:{active:"bg-green-100 text-green-800 border-green-200",suspended:"bg-yellow-100 text-yellow-800 border-yellow-200",banned:"bg-red-100 text-red-800 border-red-200"}[s],children:s})}},{accessorKey:"totalPosts",header:"Posts",cell:({row:e})=>t.jsx("div",{className:"text-center",children:e.getValue("totalPosts")||0})},{accessorKey:"totalProducts",header:"Products",cell:({row:e})=>t.jsx("div",{className:"text-center",children:e.getValue("totalProducts")||0})},{accessorKey:"followers",header:"Followers",cell:({row:e})=>t.jsx("div",{className:"text-center",children:e.getValue("followers")||0})},{accessorKey:"createdAt",header:({column:e})=>(0,t.jsxs)(j.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Joined",t.jsx(c,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>new Date(e.getValue("createdAt")).toLocaleDateString()},{id:"actions",cell:({row:s})=>{let r=s.original;return(0,t.jsxs)(v.h_,{children:[t.jsx(v.$F,{asChild:!0,children:(0,t.jsxs)(j.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[t.jsx("span",{className:"sr-only",children:"Open menu"}),t.jsx(o.Z,{className:"h-4 w-4"})]})}),(0,t.jsxs)(v.AW,{align:"end",children:[t.jsx(v.Ju,{children:"Actions"}),(0,t.jsxs)(v.Xi,{onClick:()=>e.onView(r),children:[t.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,t.jsxs)(v.Xi,{onClick:()=>e.onEdit(r),children:[t.jsx(u,{className:"mr-2 h-4 w-4"}),"Edit User"]}),!r.verified&&(0,t.jsxs)(v.Xi,{onClick:()=>e.onVerify(r),children:[t.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Verify User"]}),t.jsx(v.VD,{}),"banned"===r.status?(0,t.jsxs)(v.Xi,{onClick:()=>e.onUnban(r),children:[t.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Unban User"]}):(0,t.jsxs)(v.Xi,{onClick:()=>e.onBan(r),children:[t.jsx(m,{className:"mr-2 h-4 w-4"}),"Ban User"]}),(0,t.jsxs)(v.Xi,{onClick:()=>e.onDelete(r),className:"text-red-600",children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})}}]);if(X)return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx(N.O,{className:"h-8 w-48"}),t.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[1,2,3,4].map(e=>t.jsx(N.O,{className:"h-24"},e))}),t.jsx(N.O,{className:"h-96"})]});let I=$?.users||[],W=$?.pagination||{total:0,page:1,pages:1};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Users Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage all platform users, roles, and permissions"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(j.z,{variant:"outline",children:[t.jsx(b,{className:"mr-2 h-4 w-4"}),"Export"]}),(0,t.jsxs)(j.z,{children:[t.jsx(w,{className:"mr-2 h-4 w-4"}),"Add User"]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsxs)(f.Zb,{className:"p-6",children:[t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),t.jsx("div",{className:"text-2xl font-bold mt-2",children:W.total})]}),(0,t.jsxs)(f.Zb,{className:"p-6",children:[t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Active"}),t.jsx("div",{className:"text-2xl font-bold mt-2 text-green-600",children:I.filter(e=>"active"===e.status).length})]}),(0,t.jsxs)(f.Zb,{className:"p-6",children:[t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Suspended"}),t.jsx("div",{className:"text-2xl font-bold mt-2 text-yellow-600",children:I.filter(e=>"suspended"===e.status).length})]}),(0,t.jsxs)(f.Zb,{className:"p-6",children:[t.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Banned"}),t.jsx("div",{className:"text-2xl font-bold mt-2 text-red-600",children:I.filter(e=>"banned"===e.status).length})]})]}),t.jsx(f.Zb,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx(U,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsxs)(S.Ph,{value:i.role||"all",onValueChange:e=>_({...i,role:"all"===e?void 0:e}),children:[t.jsx(S.i4,{className:"w-[180px]",children:t.jsx(S.ki,{placeholder:"Filter by role"})}),(0,t.jsxs)(S.Bw,{children:[t.jsx(S.Ql,{value:"all",children:"All Roles"}),t.jsx(S.Ql,{value:"user",children:"Users"}),t.jsx(S.Ql,{value:"seller",children:"Sellers"}),t.jsx(S.Ql,{value:"admin",children:"Admins"})]})]}),(0,t.jsxs)(S.Ph,{value:i.status||"all",onValueChange:e=>_({...i,status:"all"===e?void 0:e}),children:[t.jsx(S.i4,{className:"w-[180px]",children:t.jsx(S.ki,{placeholder:"Filter by status"})}),(0,t.jsxs)(S.Bw,{children:[t.jsx(S.Ql,{value:"all",children:"All Status"}),t.jsx(S.Ql,{value:"active",children:"Active"}),t.jsx(S.Ql,{value:"suspended",children:"Suspended"}),t.jsx(S.Ql,{value:"banned",children:"Banned"})]})]})]})}),t.jsx(f.Zb,{className:"p-6",children:t.jsx(n.w,{columns:L,data:I,searchKey:"username",searchPlaceholder:"Search users..."})}),t.jsx(k.Vq,{open:D,onOpenChange:E,children:(0,t.jsxs)(k.cZ,{children:[(0,t.jsxs)(k.fK,{children:[t.jsx(k.$N,{children:"Ban User"}),(0,t.jsxs)(k.Be,{children:["Are you sure you want to ban ",V?.username,"? This action can be reversed."]})]}),t.jsx("div",{className:"space-y-4 py-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(C._,{htmlFor:"reason",children:"Reason for banning"}),t.jsx(P.g,{id:"reason",placeholder:"Enter the reason for banning this user...",value:Q,onChange:e=>F(e.target.value)})]})}),(0,t.jsxs)(k.cN,{children:[t.jsx(j.z,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),t.jsx(j.z,{variant:"destructive",onClick:T,children:"Ban User"})]})]})}),t.jsx(k.Vq,{open:M,onOpenChange:z,children:(0,t.jsxs)(k.cZ,{children:[(0,t.jsxs)(k.fK,{children:[t.jsx(k.$N,{children:"Delete User"}),(0,t.jsxs)(k.Be,{children:["Are you sure you want to delete ",V?.username,"? This action cannot be undone."]})]}),(0,t.jsxs)(k.cN,{children:[t.jsx(j.z,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),t.jsx(j.z,{variant:"destructive",onClick:J,children:"Delete User"})]})]})}),t.jsx(k.Vq,{open:B,onOpenChange:K,children:(0,t.jsxs)(k.cZ,{className:"max-w-3xl",children:[t.jsx(k.fK,{children:t.jsx(k.$N,{children:"User Details"})}),V&&(0,t.jsxs)(A.mQ,{defaultValue:"profile",className:"w-full",children:[(0,t.jsxs)(A.dr,{children:[t.jsx(A.SP,{value:"profile",children:"Profile"}),t.jsx(A.SP,{value:"activity",children:"Activity"}),t.jsx(A.SP,{value:"content",children:"Content"})]}),t.jsx(A.nU,{value:"profile",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(C._,{children:"Username"}),t.jsx("p",{className:"text-sm",children:V.username})]}),(0,t.jsxs)("div",{children:[t.jsx(C._,{children:"Email"}),t.jsx("p",{className:"text-sm",children:V.email})]}),(0,t.jsxs)("div",{children:[t.jsx(C._,{children:"Role"}),t.jsx("p",{className:"text-sm",children:V.role})]}),(0,t.jsxs)("div",{children:[t.jsx(C._,{children:"Status"}),t.jsx("p",{className:"text-sm",children:V.status})]}),(0,t.jsxs)("div",{children:[t.jsx(C._,{children:"Joined"}),t.jsx("p",{className:"text-sm",children:new Date(V.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[t.jsx(C._,{children:"Verified"}),t.jsx("p",{className:"text-sm",children:V.verified?"Yes":"No"})]})]})}),t.jsx(A.nU,{value:"activity",children:t.jsx("p",{className:"text-sm text-muted-foreground",children:"Activity log will be displayed here"})}),t.jsx(A.nU,{value:"content",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)(f.Zb,{className:"p-4",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Posts"}),t.jsx("div",{className:"text-2xl font-bold",children:V.totalPosts||0})]}),(0,t.jsxs)(f.Zb,{className:"p-4",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Products"}),t.jsx("div",{className:"text-2xl font-bold",children:V.totalProducts||0})]}),(0,t.jsxs)(f.Zb,{className:"p-4",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Followers"}),t.jsx("div",{className:"text-2xl font-bold",children:V.followers||0})]})]})})]})]})})]})}},38227:(e,s,r)=>{"use strict";r.d(s,{O:()=>l});var t=r(10326),a=r(51223);function l({className:e,...s}){return t.jsx("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...s})}},57791:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(68570).createProxy)(String.raw`C:\Users\ASUS\Desktop\reactv1\admin-app\src\app\(protected)\users\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[356,992,932,508,463,404,798,432],()=>r(60387));module.exports=t})();