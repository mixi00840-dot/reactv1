(()=>{var e={};e.id=44,e.ids=[44],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},73294:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d}),t(59180),t(52356),t(35866),t(1002);var n=t(23191),r=t(88716),a=t(37922),i=t.n(a),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["(protected)",{children:["content",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,59180)),"C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\(protected)\\content\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,52356)),"C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\(protected)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1002)),"C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\ASUS\\Desktop\\reactv1\\admin-app\\src\\app\\(protected)\\content\\page.tsx"],x="/(protected)/content/page",h={require:t,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(protected)/content/page",pathname:"/content",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},68447:(e,s,t)=>{Promise.resolve().then(t.bind(t,76359))},69669:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});let n=(0,t(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},59593:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});let n=(0,t(62881).Z)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]])},98091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});let n=(0,t(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},49758:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});let n=(0,t(62881).Z)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},76359:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var n=t(10326),r=t(17577),a=t(38443),i=t(3594),l=t(10143),c=t(91664),d=t(62881);let o=(0,d.Z)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]);var x=t(15919);let h=(0,d.Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);var p=t(12714),u=t(30361),m=t(69669),j=t(98091);let v={pending:"outline",active:"default",inactive:"secondary",flagged:"destructive",banned:"destructive",deleted:"secondary"},g=e=>[{accessorKey:"creator",header:"Creator",cell:({row:e})=>{let s=e.original.creator;return(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)(i.qE,{className:"h-8 w-8",children:[n.jsx(i.F$,{src:s?.avatar,alt:s?.username}),n.jsx(i.Q5,{children:s?.username?.charAt(0).toUpperCase()})]}),n.jsx("span",{className:"font-medium",children:s?.username||"Unknown"})]})}},{accessorKey:"caption",header:"Caption",cell:({row:e})=>{let s=e.original.caption||"";return n.jsx("div",{className:"max-w-[300px]",children:n.jsx("p",{className:"truncate text-sm",children:s||n.jsx("span",{className:"text-muted-foreground",children:"No caption"})})})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{let s=e.original.status;return n.jsx(a.C,{variant:v[s]||"default",className:"capitalize",children:s})}},{accessorKey:"views",header:"Views",cell:({row:e})=>n.jsx("span",{className:"text-sm",children:e.original.views?.toLocaleString()||0})},{accessorKey:"likes",header:"Likes",cell:({row:e})=>n.jsx("span",{className:"text-sm",children:e.original.likes?.toLocaleString()||0})},{accessorKey:"reports",header:"Reports",cell:({row:e})=>{let s=e.original.reports||0;return n.jsx("span",{className:`text-sm font-medium ${s>0?"text-red-600":""}`,children:s>0?(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[n.jsx(o,{className:"h-3 w-3"}),s]}):0})}},{accessorKey:"createdAt",header:"Created",cell:({row:e})=>n.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(e.original.createdAt).toLocaleDateString()})},{id:"actions",header:"Actions",cell:({row:s})=>{let t=s.original;return(0,n.jsxs)(l.h_,{children:[n.jsx(l.$F,{asChild:!0,children:(0,n.jsxs)(c.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[n.jsx("span",{className:"sr-only",children:"Open menu"}),n.jsx(x.Z,{className:"h-4 w-4"})]})}),(0,n.jsxs)(l.AW,{align:"end",children:[n.jsx(l.Ju,{children:"Actions"}),(0,n.jsxs)(l.Xi,{onClick:()=>e.onPreview(t),children:[n.jsx(h,{className:"mr-2 h-4 w-4"}),"Preview Video"]}),(0,n.jsxs)(l.Xi,{onClick:()=>e.onView(t),children:[n.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"View Details"]}),n.jsx(l.VD,{}),"pending"===t.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.Xi,{onClick:()=>e.onApprove(t),className:"text-green-600",children:[n.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Approve"]}),(0,n.jsxs)(l.Xi,{onClick:()=>e.onReject(t),className:"text-red-600",children:[n.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Reject"]})]}),"active"===t.status&&(0,n.jsxs)(l.Xi,{onClick:()=>e.onFlag(t),className:"text-orange-600",children:[n.jsx(o,{className:"mr-2 h-4 w-4"}),"Flag Content"]}),("flagged"===t.status||"active"===t.status)&&(0,n.jsxs)(l.Xi,{onClick:()=>e.onBan(t),className:"text-red-600",children:[n.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Ban Content"]}),n.jsx(l.VD,{}),(0,n.jsxs)(l.Xi,{onClick:()=>e.onDelete(t),className:"text-red-600",children:[n.jsx(j.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}];var f=t(12470),N=t(29752),y=t(49758),b=t(59593),w=t(92719),C=t(24118),k=t(44794),S=t(82015),q=t(29280),A=t(84097),Z=t(50384);function _(){let[e,s]=(0,r.useState)(1),[t,a]=(0,r.useState)({}),[i,l]=(0,r.useState)(null),[d,x]=(0,r.useState)(""),[h,u]=(0,r.useState)(""),[m,j]=(0,r.useState)(""),[v,_]=(0,r.useState)(!1),[P,V]=(0,r.useState)(!1),[F,D]=(0,r.useState)(!1),[R,U]=(0,r.useState)(!1),[z,K]=(0,r.useState)(!1),[M,B]=(0,r.useState)(!1),{toast:E}=(0,A.pm)(),{data:L,isLoading:T,refetch:$}=(0,f.r0)(e,20,t),O=(0,f.TY)(),X=(0,f.MK)(),Q=(0,f.SV)(),G=L?.pagination?.total||0,H=L?.contents?.filter(e=>"pending"===e.status).length||0,Y=L?.contents?.filter(e=>"flagged"===e.status).length||0,I=L?.contents?.filter(e=>"banned"===e.status).length||0,J=async()=>{if(i)try{await X.mutateAsync({id:i._id,reason:h}),E({title:"Content Rejected",description:"The content has been rejected."}),V(!1),u(""),l(null),$()}catch(e){E({title:"Error",description:"Failed to reject content.",variant:"destructive"})}},W=async()=>{if(i)try{await Q.mutateAsync({id:i._id,reason:d}),E({title:"Content Banned",description:"The content has been banned."}),_(!1),x(""),l(null),$()}catch(e){E({title:"Error",description:"Failed to ban content.",variant:"destructive"})}},ee=async()=>{if(i)try{E({title:"Content Deleted",description:"The content has been deleted."}),U(!1),l(null),$()}catch(e){E({title:"Error",description:"Failed to delete content.",variant:"destructive"})}},es=g({onView:e=>{l(e),K(!0)},onApprove:async e=>{try{await O.mutateAsync(e._id),E({title:"Content Approved",description:"The content has been approved successfully."}),$()}catch(e){E({title:"Error",description:"Failed to approve content.",variant:"destructive"})}},onReject:e=>{l(e),V(!0)},onFlag:e=>{l(e),D(!0)},onBan:e=>{l(e),_(!0)},onDelete:e=>{l(e),U(!0)},onPreview:e=>{l(e),B(!0)}});return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Content Moderation"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage and moderate user-generated content"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(c.z,{variant:"outline",onClick:()=>$(),children:"Refresh"})})]}),(0,n.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsx(N.Zb,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Content"}),n.jsx("p",{className:"text-2xl font-bold",children:G})]}),n.jsx(y.Z,{className:"h-8 w-8 text-muted-foreground"})]})}),n.jsx(N.Zb,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Review"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:H})]}),n.jsx(p.Z,{className:"h-8 w-8 text-orange-600"})]})}),n.jsx(N.Zb,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Flagged"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:Y})]}),n.jsx(o,{className:"h-8 w-8 text-red-600"})]})}),n.jsx(N.Zb,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Banned"}),n.jsx("p",{className:"text-2xl font-bold text-gray-600",children:I})]}),n.jsx(b.Z,{className:"h-8 w-8 text-gray-600"})]})})]}),n.jsx(N.Zb,{className:"p-4",children:n.jsx("div",{className:"flex items-center gap-4",children:(0,n.jsxs)(q.Ph,{value:t.status||"all",onValueChange:e=>a({...t,status:"all"===e?void 0:e}),children:[n.jsx(q.i4,{className:"w-[180px]",children:n.jsx(q.ki,{placeholder:"Filter by status"})}),(0,n.jsxs)(q.Bw,{children:[n.jsx(q.Ql,{value:"all",children:"All Status"}),n.jsx(q.Ql,{value:"pending",children:"Pending"}),n.jsx(q.Ql,{value:"active",children:"Active"}),n.jsx(q.Ql,{value:"flagged",children:"Flagged"}),n.jsx(q.Ql,{value:"banned",children:"Banned"})]})]})})}),n.jsx(N.Zb,{className:"p-6",children:n.jsx(w.w,{columns:es,data:L?.contents||[],searchKey:"caption"})}),n.jsx(C.Vq,{open:v,onOpenChange:_,children:(0,n.jsxs)(C.cZ,{children:[(0,n.jsxs)(C.fK,{children:[n.jsx(C.$N,{children:"Ban Content"}),n.jsx(C.Be,{children:"Are you sure you want to ban this content? This action will remove it from public view."})]}),n.jsx("div",{className:"space-y-4 py-4",children:(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(k._,{htmlFor:"reason",children:"Reason for banning"}),n.jsx(S.g,{id:"reason",placeholder:"Enter the reason for banning this content...",value:d,onChange:e=>x(e.target.value)})]})}),(0,n.jsxs)(C.cN,{children:[n.jsx(c.z,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),n.jsx(c.z,{variant:"destructive",onClick:W,children:"Ban Content"})]})]})}),n.jsx(C.Vq,{open:P,onOpenChange:V,children:(0,n.jsxs)(C.cZ,{children:[(0,n.jsxs)(C.fK,{children:[n.jsx(C.$N,{children:"Reject Content"}),n.jsx(C.Be,{children:"Provide a reason for rejecting this content submission."})]}),n.jsx("div",{className:"space-y-4 py-4",children:(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(k._,{htmlFor:"reject-reason",children:"Rejection Reason"}),n.jsx(S.g,{id:"reject-reason",placeholder:"Enter the reason for rejection...",value:h,onChange:e=>u(e.target.value)})]})}),(0,n.jsxs)(C.cN,{children:[n.jsx(c.z,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),n.jsx(c.z,{variant:"destructive",onClick:J,children:"Reject Content"})]})]})}),n.jsx(C.Vq,{open:F,onOpenChange:D,children:(0,n.jsxs)(C.cZ,{children:[(0,n.jsxs)(C.fK,{children:[n.jsx(C.$N,{children:"Flag Content"}),n.jsx(C.Be,{children:"Flag this content for further review."})]}),n.jsx("div",{className:"space-y-4 py-4",children:(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(k._,{htmlFor:"flag-reason",children:"Flag Reason"}),n.jsx(S.g,{id:"flag-reason",placeholder:"Enter the reason for flagging...",value:m,onChange:e=>j(e.target.value)})]})}),(0,n.jsxs)(C.cN,{children:[n.jsx(c.z,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),n.jsx(c.z,{onClick:()=>D(!1),children:"Flag Content"})]})]})}),n.jsx(C.Vq,{open:R,onOpenChange:U,children:(0,n.jsxs)(C.cZ,{children:[(0,n.jsxs)(C.fK,{children:[n.jsx(C.$N,{children:"Delete Content"}),n.jsx(C.Be,{children:"Are you sure you want to permanently delete this content? This action cannot be undone."})]}),(0,n.jsxs)(C.cN,{children:[n.jsx(c.z,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),n.jsx(c.z,{variant:"destructive",onClick:ee,children:"Delete"})]})]})}),n.jsx(C.Vq,{open:M,onOpenChange:B,children:(0,n.jsxs)(C.cZ,{className:"max-w-4xl",children:[n.jsx(C.fK,{children:n.jsx(C.$N,{children:"Video Preview"})}),n.jsx("div",{className:"aspect-video w-full bg-black",children:i?.videoUrl?n.jsx("video",{src:i.videoUrl,controls:!0,className:"h-full w-full",children:"Your browser does not support the video tag."}):n.jsx("div",{className:"flex h-full items-center justify-center text-white",children:"No video available"})}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Caption:"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:i?.caption||"No caption"})]})]})}),n.jsx(C.Vq,{open:z,onOpenChange:K,children:(0,n.jsxs)(C.cZ,{className:"max-w-3xl",children:[n.jsx(C.fK,{children:n.jsx(C.$N,{children:"Content Details"})}),(0,n.jsxs)(Z.mQ,{defaultValue:"info",className:"w-full",children:[(0,n.jsxs)(Z.dr,{children:[n.jsx(Z.SP,{value:"info",children:"Information"}),n.jsx(Z.SP,{value:"stats",children:"Statistics"}),n.jsx(Z.SP,{value:"reports",children:"Reports"})]}),n.jsx(Z.nU,{value:"info",className:"space-y-4",children:(0,n.jsxs)("div",{className:"grid gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx(k._,{children:"Creator"}),n.jsx("p",{className:"text-sm",children:i?.creator?.username||"Unknown"})]}),(0,n.jsxs)("div",{children:[n.jsx(k._,{children:"Caption"}),n.jsx("p",{className:"text-sm",children:i?.caption||"No caption"})]}),(0,n.jsxs)("div",{children:[n.jsx(k._,{children:"Status"}),n.jsx("p",{className:"text-sm capitalize",children:i?.status})]}),(0,n.jsxs)("div",{children:[n.jsx(k._,{children:"Created"}),n.jsx("p",{className:"text-sm",children:i?.createdAt?new Date(i.createdAt).toLocaleString():"N/A"})]})]})}),n.jsx(Z.nU,{value:"stats",className:"space-y-4",children:(0,n.jsxs)("div",{className:"grid gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx(k._,{children:"Views"}),n.jsx("p",{className:"text-2xl font-bold",children:i?.views?.toLocaleString()||0})]}),(0,n.jsxs)("div",{children:[n.jsx(k._,{children:"Likes"}),n.jsx("p",{className:"text-2xl font-bold",children:i?.likes?.toLocaleString()||0})]}),(0,n.jsxs)("div",{children:[n.jsx(k._,{children:"Comments"}),n.jsx("p",{className:"text-2xl font-bold",children:i?.comments?.toLocaleString()||0})]})]})}),(0,n.jsxs)(Z.nU,{value:"reports",className:"space-y-4",children:[(0,n.jsxs)("div",{children:[n.jsx(k._,{children:"Total Reports"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:i?.reports||0})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Report details would appear here."})]})]})]})})]})}},82015:(e,s,t)=>{"use strict";t.d(s,{g:()=>i});var n=t(10326),r=t(17577),a=t(51223);let i=r.forwardRef(({className:e,...s},t)=>n.jsx("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));i.displayName="Textarea"},59180:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});let n=(0,t(68570).createProxy)(String.raw`C:\Users\ASUS\Desktop\reactv1\admin-app\src\app\(protected)\content\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),n=s.X(0,[356,992,932,508,463,548,711,798,156],()=>t(73294));module.exports=n})();